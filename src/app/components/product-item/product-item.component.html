<nz-card
  class="product-card mb-4 border border-primary flex flex-col justify-between h-full text-center shadow-sm hover:shadow-lg transition-shadow duration-200 min-w-0 w-full max-w-xs sm:max-w-sm md:max-w-md mx-auto"
  [nzHoverable]="true"
  [nzCover]="coverTemplate">

  <ng-template #coverTemplate>
    <img
      [src]="product.thumbnail || product.images[0]"
      [alt]="product.title"
      class="product-img w-full h-36 sm:h-44 md:h-56 object-contain p-2 bg-white rounded-t-lg"
    />
  </ng-template>

  <div class="px-2 sm:px-3 py-2 flex-1 flex flex-col justify-between">
    <h3 class="text-xl sm:text-base font-semibold text-gray-800 text-center break-words leading-tight min-h-[2.2rem] sm:min-h-[3.5rem]">
      {{ product.title }}
    </h3>
    <div class="flex justify-center items-center gap-2 mt-1 flex-wrap">
      <span class="text-orange-500 font-bold text-base sm:text-lg">{{ product.price | currency:'USD' }}</span>
      <span *ngIf="product.discountPercentage" class="text-x text-red-600 font-bold bg-red-50 rounded px-1"> -{{ product.discountPercentage }}%</span>
    </div>
    <!-- <div class="text-xs text-gray-500 mt-1" *ngIf="product.stock !== undefined">
      Kho: <span class="font-semibold">{{ product.stock }}</span>
    </div> -->
  </div>

  <div class="text-xs sm:text-sm mt-1 flex flex-col items-center scale-90">
    <nz-rate
      [ngModel]="product.rating"
      [nzDisabled]="true"
      [nzAllowHalf]="true"
      class="text-base">
    </nz-rate>
    <span class="text-gray-500 text-xs mt-0.5">
      ({{ product.rating || 0 }} sao)
    </span>
  </div>

  <div class="mt-3 mb-2 flex flex-col gap-2 px-2 sm:flex-row sm:justify-center sm:gap-2">
    <button
      nz-button
      nzType="default"
      class="border border-orange-500 text-orange-500 bg-white hover:bg-orange-50 hover:text-orange-500 hover:border-orange-500 transition-colors duration-200 w-full sm:w-auto"
      [routerLink]="[product.id]"
      tabindex="0">
      Xem chi tiết
    </button>
    <button
      nz-button
      nzType="primary"
      [ngClass]="'bg-orange-500 !important text-white !important border border-orange-500 !important hover:bg-orange-600 !important hover:border-orange-600 !important focus:bg-orange-600 !important active:bg-orange-700 !important focus:ring-0 focus:outline-none focus:border-orange-500 transition-colors duration-200 w-full sm:w-auto'"
      (click)="onAddToCart()"
      tabindex="0">
      Thêm vào giỏ
    </button>
  </div>

</nz-card>





