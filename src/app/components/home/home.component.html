<!-- Hero Section -->
<div class="hero-section bg-gradient-to-r from-orange-50 to-pink-50 py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
        {{ 'home.hero.title' | transloco }}
      </h1>
      <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
        {{ 'home.hero.subtitle' | transloco }}
      </p>
      <button (click)="goToAllProducts()"
              class="bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105">
        {{ 'home.hero.shopNow' | transloco }}
      </button>
    </div>
  </div>
</div>

<!-- Sản phẩm nổi bật -->
<section class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ 'home.featured.title' | transloco }}</h2>
      <p class="text-gray-600">{{ 'home.featured.subtitle' | transloco }}</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <div *ngFor="let product of featuredProducts"
           class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-200 overflow-hidden group">
        <div class="relative">
          <ng-container *ngIf="product.images?.length > 1; else singleImageHome">
            <nz-carousel nzAutoPlay [nzDots]="true" class="rounded-t">
              <div nz-carousel-content *ngFor="let img of product.images">
                <img [src]="img" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200" />
              </div>
            </nz-carousel>
          </ng-container>
          <ng-template #singleImageHome>
            <img [src]="product.thumbnail" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200">
          </ng-template>
          <div class="absolute top-2 right-2 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-semibold">
            {{ 'home.featured.badge' | transloco }}
          </div>
        </div>
        <div class="p-4">
          <h3 class="text-lg font-semibold text-gray-900 mb-2 break-words leading-tight min-h-[3.5rem]">{{ product.title }}</h3>
          <div class="flex items-center mb-2">
            <div class="flex text-yellow-300">
              <span *ngFor="let star of getStars(product.rating)" nz-icon nzType="star" nzTheme="fill"></span>
            </div>
            <span class="text-sm text-gray-500 ml-2">({{ product.rating }})</span>
          </div>
          <div class="flex items-center justify-between mb-3">
            <span class="text-lg font-bold text-orange-600">${{ product.price }}</span>
            <span class="text-sm text-gray-500 line-through">${{ (product.price + 20).toFixed(2) }}</span>
          </div>
          <div class="flex gap-2">
            <button (click)="addToCart(product)"
                    class="flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-md text-sm font-medium transition-colors duration-200">
              {{ 'product.addToCart' | transloco }}
            </button>
            <button (click)="goToProductDetail(product.id)"
                    class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md text-sm hover:border-orange-500 hover:text-orange-600 transition-colors duration-200">
              {{ 'product.viewDetails' | transloco }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <button (click)="goToAllProducts()"
              class="bg-transparent border-2 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white px-8 py-3 rounded-full font-semibold transition-all duration-200">
        {{ 'home.featured.viewAll' | transloco }}
      </button>
    </div>
  </div>
</section>

<!--Sản phẩm bán chạy -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ 'home.bestSellers.title' | transloco }}</h2>
      <p class="text-gray-600">{{ 'home.bestSellers.subtitle' | transloco }}</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <div *ngFor="let product of bestSellerProducts"
           class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-200 overflow-hidden group">
        <div class="relative">
          <ng-container *ngIf="product.images?.length > 1; else singleImageHome">
            <nz-carousel nzAutoPlay [nzDots]="true" class="rounded-t">
              <div nz-carousel-content *ngFor="let img of product.images">
                <img [src]="img" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200" />
              </div>
            </nz-carousel>
          </ng-container>
          <ng-template #singleImageHome>
            <img [src]="product.thumbnail" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200">
          </ng-template>
          <div class="absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold">
            #{{ 'home.bestSellers.rank' | transloco }}
          </div>
        </div>
        <div class="p-4">
          <h3 class="text-lg font-semibold text-gray-900 mb-2 break-words leading-tight min-h-[3.5rem]">{{ product.title }}</h3>
          <div class="flex items-center mb-2">
            <div class="flex text-yellow-300">
              <span *ngFor="let star of getStars(product.rating)" nz-icon nzType="star" nzTheme="fill"></span>
            </div>
            <span class="text-sm text-gray-500 ml-2">({{ product.rating }})</span>
          </div>
          <div class="flex items-center justify-between mb-3">
            <span class="text-lg font-bold text-gray-900">${{ product.price }}</span>
            <span class="text-sm text-green-600 font-medium">{{ 'home.bestSellers.inStock' | transloco }}</span>
          </div>
          <div class="flex gap-2">
            <button (click)="addToCart(product)"
                    class="flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-md text-sm font-medium transition-colors duration-200">
              {{ 'product.addToCart' | transloco }}
            </button>
            <button (click)="goToProductDetail(product.id)"
                    class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md text-sm hover:border-orange-500 hover:text-orange-600 transition-colors duration-200">
              {{ 'product.viewDetails' | transloco }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sản phẩm giảm giá -->
<section class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ 'home.sale.title' | transloco }}</h2>
      <p class="text-gray-600">{{ 'home.sale.subtitle' | transloco }}</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <div *ngFor="let product of saleProducts"
           class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-200 overflow-hidden group">
        <div class="relative">
          <ng-container *ngIf="product.images?.length > 1; else singleImageHome">
            <nz-carousel nzAutoPlay [nzDots]="true" class="rounded-t">
              <div nz-carousel-content *ngFor="let img of product.images">
                <img [src]="img" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200" />
              </div>
            </nz-carousel>
          </ng-container>
          <ng-template #singleImageHome>
            <img [src]="product.thumbnail" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200">
          </ng-template>
          <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold">
            -{{ product.discountPercentage}}%
          </div>
        </div>
        <div class="p-4">
          <h3 class="text-lg font-semibold text-gray-900 mb-2 break-words leading-tight min-h-[3.5rem]">{{ product.title }}</h3>
          <div class="flex items-center mb-2">
            <div class="flex text-yellow-300">
              <span *ngFor="let star of getStars(product.rating)" nz-icon nzType="star" nzTheme="fill"></span>
            </div>
            <span class="text-sm text-gray-500 ml-2">({{ product.rating }})</span>
          </div>
          <div class="flex items-center justify-between mb-3">
            <span class="text-lg font-bold text-red-600">${{ product.price }}</span>
            <span class="text-sm text-gray-500 line-through">${{ (product.price / (1 - product.discountPercentage / 100)).toFixed(2) }}</span>
          </div>
          <div class="flex gap-2">
            <button (click)="addToCart(product)"
                    class="flex-1 bg-red-500 hover:bg-red-600 text-white py-2 rounded-md text-sm font-medium transition-colors duration-200">
              {{ 'home.sale.buyNow' | transloco }}
            </button>
            <button (click)="goToProductDetail(product.id)"
                    class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md text-sm hover:border-red-500 hover:text-red-600 transition-colors duration-200">
              {{ 'product.viewDetails' | transloco }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sản phẩm mới -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ 'home.newArrivals.title' | transloco }}</h2>
      <p class="text-gray-600">{{ 'home.newArrivals.subtitle' | transloco }}</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <div *ngFor="let product of newArrivals"
           class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-200 overflow-hidden group">
        <div class="relative">
          <ng-container *ngIf="product.images?.length > 1; else singleImageHome">
            <nz-carousel nzAutoPlay [nzDots]="true" class="rounded-t">
              <div nz-carousel-content *ngFor="let img of product.images">
                <img [src]="img" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200" />
              </div>
            </nz-carousel>
          </ng-container>
          <ng-template #singleImageHome>
            <img [src]="product.thumbnail" [alt]="product.title" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-200">
          </ng-template>
          <div class="absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-semibold">
            {{ 'home.newArrivals.new' | transloco }}
          </div>
        </div>
        <div class="p-4">
          <h3 class="text-lg font-semibold text-gray-900 mb-2 break-words leading-tight min-h-[3.5rem]">{{ product.title }}</h3>
          <div class="flex items-center mb-2">
            <div class="flex text-yellow-400">
              <span *ngFor="let star of getStars(product.rating)" nz-icon nzType="star" nzTheme="fill"></span>
            </div>
            <span class="text-sm text-gray-500 ml-2">({{ product.rating }})</span>
          </div>
          <div class="flex items-center justify-between mb-3">
            <span class="text-lg font-bold text-gray-900">${{ product.price }}</span>
            <span class="text-sm text-green-600 font-medium">{{ 'home.newArrivals.available' | transloco }}</span>
          </div>
          <div class="flex gap-2">
            <button (click)="addToCart(product)"
                    class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded-md text-sm font-medium transition-colors duration-200">
              {{ 'product.addToCart' | transloco }}
            </button>
            <button (click)="goToProductDetail(product.id)"
                    class="px-3 py-2 border border-gray-300 text-gray-700 rounded-md text-sm hover:border-green-500 hover:text-green-600 transition-colors duration-200">
              {{ 'product.viewDetails' | transloco }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-orange-500">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl font-bold text-white mb-4">{{ 'home.cta.title' | transloco }}</h2>
    <p class="text-orange-100 mb-8 text-lg">{{ 'home.cta.subtitle' | transloco }}</p>
    <button (click)="goToAllProducts()"
            class="bg-white text-orange-500 hover:bg-orange-50 px-8 py-4 rounded-full text-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105">
      {{ 'home.cta.button' | transloco }}
    </button>
  </div>
</section>

